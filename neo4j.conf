# Neo4j Configuration File
# This file configures Neo4j with Graph Data Science (GDS) for self-hosting on Cloudflare

# Memory settings
# Increased for GDS graph algorithms
dbms.memory.heap.initial_size=1G
dbms.memory.heap.max_size=4G
dbms.memory.pagecache.size=2G

# Network settings
dbms.default_listen_address=0.0.0.0
dbms.default_advertised_address=localhost

# HTTP connector
dbms.connector.http.enabled=true
dbms.connector.http.listen_address=:7474

# Bolt connector
dbms.connector.bolt.enabled=true
dbms.connector.bolt.listen_address=:7687

# Security settings
dbms.security.auth_enabled=true

# Transaction log settings
dbms.tx_log.rotation.retention_policy=1 days size

# Plugin settings - APOC and Graph Data Science
dbms.security.procedures.unrestricted=apoc.*,gds.*

# Graph Data Science configuration
gds.enterprise.license_accept=yes
gds.edition=community

# GDS memory settings (adjust based on your graph sizes)
gds.memory.off_heap.max_size=2G

# Performance tuning for containers
dbms.jvm.additional=-XX:+UseG1GC
dbms.jvm.additional=-XX:+UseStringDeduplication
dbms.jvm.additional=-XX:+UnlockExperimentalVMOptions
dbms.jvm.additional=-XX:+UseCGroupMemoryLimitForHeap

